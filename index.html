<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gemini Prompt Builder v4.1</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body{font-family:'Inter',sans-serif;background-color:#1e1e2f;color:#f1f1f1;padding:20px;max-width:800px;margin:auto}h1{text-align:center;font-size:28px;margin-bottom:4px;color:#4A80FF}h2{text-align:center;font-weight:400;font-size:16px;margin-top:0;margin-bottom:30px}fieldset{border:1px solid #444;border-radius:8px;padding:20px;margin-bottom:20px}legend{padding:0 10px;font-weight:700;color:#4A80FF}label{display:block;margin-top:15px;margin-bottom:8px;font-weight:600}textarea,select,input[type=text]{width:100%;padding:12px;border-radius:6px;border:1px solid #555;background-color:#2a2a3d;color:#f1f1f1;box-sizing:border-box}.radio-group label{font-weight:400;display:flex;align-items:center;gap:8px}.checkbox-group{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;margin-top:8px}.checkbox-group label{font-weight:400;display:flex;align-items:center;gap:8px;background-color:#2a2a3d;padding:10px;border-radius:6px;border:1px solid #444}.output-box{background-color:#2a2a3d;border:1px solid #555;padding:15px;min-height:80px;margin-top:10px;border-radius:6px;line-height:1.6;font-size:16px;position:relative;white-space:pre-wrap}.loading-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(42,42,61,.8);color:#fff;display:none;justify-content:center;align-items:center;font-weight:600;border-radius:6px}.button-group{display:flex;gap:10px;margin-top:20px}button{background-color:#4A80FF;color:#fff;padding:12px 18px;border:none;border-radius:6px;cursor:pointer;font-weight:600;flex-grow:1;transition:opacity .2s}button:disabled{background-color:#555;cursor:not-allowed}button.secondary{background-color:#4a4a5a}button:hover:not(:disabled){opacity:.9}
  </style>
</head>
<body>
  <h1>Gemini Prompt Builder</h1>
  <h2>Didukung oleh Google AI</h2>

  <fieldset>
    <legend>1. Pilih Jenis Output</legend>
    <div class="radio-group">
        <label><input type="radio" name="promptType" value="image" checked> üñºÔ∏è Prompt untuk Gambar</label>
        <label><input type="radio" name="promptType" value="video"> üé¨ Prompt untuk Video</label>
    </div>
  </fieldset>

  <div id="imageOptions">
    <fieldset>
      <legend>2. Detail Prompt Gambar</legend>
      <label for="mainSubjectID">Deskripsikan Subjek Utama (dalam Bahasa Indonesia):</label>
      <textarea id="mainSubjectID" rows="3" placeholder="Contoh: seorang ksatria dengan baju zirah berkilau..."></textarea>
      
      <label for="style">Gaya Visual</label>
      <select id="style"><option value="photorealistic shot">Photorealistic</option><option value="ultra-realistic 8K UHD">Ultra Realistic (8K)</option><option value="cinematic film still">Cinematic Film Still</option><option value="Ghibli-style anime art">Anime (Gaya Ghibli)</option><option value="Pixar-style 3D render">3D Render (Gaya Pixar)</option><option value="detailed ink illustration">Ilustrasi Tinta</option></select>
      
      <label for="angle">Sudut Kamera</label>
      <select id="angle"><option value="">-- Tidak Spesifik --</option><option value="from a dramatic low angle">Low Angle (Dramatis)</option><option value="from a high angle, bird-eye view">Bird-Eye View (Dari Atas)</option><option value="a beautifully composed wide angle shot">Wide Angle (Lebar)</option><option value="an intimate close-up shot">Close Up (Intim)</option></select>
      
      <label>Pilih Gaya Pencahayaan:</label>
      <div class="checkbox-group" id="lightingGroup"><label><input type="checkbox" value="dramatic side lighting highlighting textures">Side Lighting</label><label><input type="checkbox" value="soft, diffused lighting">Soft Lighting</label><label><input type="checkbox" value="warm golden hour lighting">Golden Hour</label><label><input type="checkbox" value="dark and moody, with deep shadows">Gelap & Misterius</label><label><input type="checkbox" value="strong cinematic rim lighting">Rim Lighting</label><label><input type="checkbox" value="volumetric god rays streaming down">Volumetric Rays</label></div>
      
      <label for="mood">Suasana / Mood</label>
      <select id="mood"><option value="">-- Tidak Spesifik --</option><option value="creating a calm and peaceful atmosphere">Tenang & Damai</option><option value="with a magical and wondrous vibe">Magis & Mengagumkan</option><option value="evoking a melancholic and nostalgic tone">Melankolis & Nostalgia</option><option value="full of energy and vibrant motion">Enerjik</option><option value="in an eerie and mysterious setting">Seram & Misterius</option></select>

      <label>Komposisi Tambahan:</label>
      <div class="checkbox-group" id="compositionGroup"><label><input type="checkbox" value="rule of thirds composition">Rule of Thirds</label><label><input type="checkbox" value="perfectly symmetrical composition">Simetris</label><label><input type="checkbox" value="shallow depth of field with a blurry background">Bokeh</label></div>
      
      <label for="negativePrompt">Negative Prompt (hal yang tidak diinginkan):</label>
      <textarea id="negativePrompt" rows="2" placeholder="Contoh: blurry, text, watermark, deformed hands..."></textarea>
      
      <label for="format">Format / Rasio Aspek</label>
      <select id="format"><option value="--ar 16:9">Lanskap (16:9)</option><option value="--ar 9:16">Potret (9:16)</option><option value="--ar 1:1">Kotak (1:1)</option><option value="--ar 21:9">Ultra-Wide (21:9)</option></select>
    </fieldset>
  </div>

  <div id="videoOptions" style="display: none;">
    <fieldset>
      <legend>2. Detail Prompt Video</legend>
      <label for="videoSubjectID">Deskripsikan Adegan Video (dalam Bahasa Indonesia):</label>
      <textarea id="videoSubjectID" rows="3" placeholder="Contoh: seekor elang terbang melintasi pegunungan..."></textarea>

      <label for="videoStyle">Gaya Visual Video</label>
      <select id="videoStyle"><option value="cinematic shot">Cinematic</option><option value="documentary style">Documentary</option><option value="animated short film">Animasi Pendek</option><option value="drone footage">Drone Footage</option></select>

      <label>Pergerakan Kamera & Subjek:</label>
      <div class="checkbox-group" id="movementGroup"><label><input type="checkbox" value="slow panning shot">Panning Lambat</label><label><input type="checkbox" value="dynamic tracking shot">Tracking Dinamis</label><label><input type="checkbox" value="static shot">Statis</label><label><input type="checkbox" value="time-lapse sequence">Time-Lapse</label><label><input type="checkbox" value="slow motion">Slow Motion</label></div>
      
      <label for="videoMood">Suasana / Mood Video</label>
      <select id="videoMood"><option value="">-- Tidak Spesifik --</option><option value="dramatic and intense">Dramatis & Intens</option><option value="peaceful and serene">Tenang & Damai</option><option value="exciting and action-packed">Seru & Penuh Aksi</option></select>
      
      <label for="duration">Durasi (Estimasi)</label>
      <input type="text" id="duration" placeholder="Contoh: 5 detik, 15 detik, 1 menit">
      
      <label for="videoNegativePrompt">Negative Prompt (hal yang tidak diinginkan):</label>
      <textarea id="videoNegativePrompt" rows="2" placeholder="Contoh: stuttering, low frame rate, unnatural..."></textarea>

      <label for="videoFormat">Format / Rasio Aspek</label>
      <select id="videoFormat"><option value="--ar 16:9">Lanskap (16:9)</option><option value="--ar 9:16">Potret (9:16)</option><option value="--ar 1:1">Kotak (1:1)</option></select>
    </fieldset>
  </div>
  
  <div class="button-group">
    <button id="generateBtn">üöÄ Buat Prompt dengan Gemini</button>
  </div>
  <label for="promptEN">üá¨üáß English Narrative Prompt (Dihasilkan oleh AI):</label>
  <div class="output-box" id="promptEN">
      <div class="loading-overlay" id="loading">Gemini sedang berpikir...</div>
  </div>
  <div class="button-group">
    <button id="copyBtn" class="secondary">üìã Salin Prompt</button>
    <button id="resetBtn" class="secondary">üîÑ Reset Semua</button>
  </div>

<script>
    async function generatePrompt() {
        // --- TEMPEL API KEY ANDA DI SINI ---
        const API_KEY = "AIzaSyDZLCti9Tbt7c6oe_Nfn9ExoKYUhtLIv0g";
        // ------------------------------------

        if (API_KEY === "MASUKKAN_API_KEY_ANDA_DI_SINI") {
            alert("Harap masukkan API Key Gemini Anda di dalam file HTML.");
            return;
        }
        const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${API_KEY}`;
        
        const promptType = document.querySelector('input[name="promptType"]:checked').value;
        let metaPrompt = "";

        const loadingOverlay = document.getElementById('loading');
        const generateButton = document.getElementById('generateBtn');
        loadingOverlay.style.display = 'flex';
        generateButton.disabled = true;

        if (promptType === 'image') {
            const subjectID = document.getElementById('mainSubjectID').value.trim();
            if (!subjectID) {
                alert("Mohon isi deskripsi subjek utama (gambar).");
                loadingOverlay.style.display = 'none';
                generateButton.disabled = false; return;
            }
            const style = document.getElementById('style').value;
            const angle = document.getElementById('angle').value;
            const mood = document.getElementById('mood').value;
            const format = document.getElementById('format').value;
            const lighting = Array.from(document.querySelectorAll('#lightingGroup input:checked')).map(cb => cb.value).join(', ');
            const composition = Array.from(document.querySelectorAll('#compositionGroup input:checked')).map(cb => cb.value).join(', ');
            const negativePrompt = document.getElementById('negativePrompt').value.trim();

            metaPrompt = `Anda adalah seorang ahli prompt generator untuk AI text-to-image. Tugas Anda adalah mengambil detail berikut dan merangkainya menjadi satu paragraf deskriptif dan naratif dalam Bahasa Inggris yang kaya akan detail untuk menghasilkan sebuah GAMBAR. Detail yang harus digunakan: - Deskripsi Subjek Utama (terjemahkan ini ke Bahasa Inggris): "${subjectID}" - Gaya Visual: "${style}" ${angle ? `- Sudut Kamera: "${angle}"` : ''} ${lighting ? `- Jenis Pencahayaan: "${lighting}"` : ''} ${composition ? `- Komposisi: "${composition}"` : ''} ${mood ? `- Suasana/Mood: "${mood}"` : ''}. Buatlah sebuah prompt yang sinematik. Gabungkan semua elemen secara natural. Di akhir prompt, tambahkan parameter teknis berikut: - Rasio Aspek: "${format}" ${negativePrompt ? `- Hal yang tidak diinginkan (gunakan format '--no'): "${negativePrompt}"` : ''}. Berikan HANYA teks prompt yang sudah jadi, tanpa penjelasan atau kata pengantar apapun.`;
        } else if (promptType === 'video') {
            const subjectID = document.getElementById('videoSubjectID').value.trim();
            if (!subjectID) {
                alert("Mohon isi deskripsi adegan video.");
                loadingOverlay.style.display = 'none';
                generateButton.disabled = false; return;
            }
            const style = document.getElementById('videoStyle').value;
            const movement = Array.from(document.querySelectorAll('#movementGroup input:checked')).map(cb => cb.value).join(', ');
            const mood = document.getElementById('videoMood').value;
            const duration = document.getElementById('duration').value.trim();
            const format = document.getElementById('videoFormat').value;
            const negativePrompt = document.getElementById('videoNegativePrompt').value.trim();

            metaPrompt = `Anda adalah seorang ahli prompt generator untuk AI text-to-video. Tugas Anda adalah mengambil detail berikut dan merangkainya menjadi satu paragraf deskriptif dan naratif dalam Bahasa Inggris yang kaya akan detail untuk menghasilkan sebuah ADEGAN VIDEO. Detail yang harus digunakan: - Deskripsi Adegan Video (terjemahkan ini ke Bahasa Inggris): "${subjectID}" - Gaya Visual: "${style}" ${movement ? `- Pergerakan Kamera/Subjek: "${movement}"` : ''} ${mood ? `- Suasana/Mood: "${mood}"` : ''} ${duration ? `- Durasi (Estimasi): "${duration}"` : ''}. Buatlah sebuah prompt yang sinematik dan jelas menggambarkan adegan bergerak. Di akhir prompt, tambahkan parameter teknis berikut: - Rasio Aspek: "${format}" ${negativePrompt ? `- Hal yang tidak diinginkan (gunakan format '--no'): "${negativePrompt}"` : ''}. Berikan HANYA teks prompt yang sudah jadi, tanpa penjelasan atau kata pengantar apapun.`;
        }

        const requestBody = { contents: [{ parts: [{ text: metaPrompt }] }] };

        try {
            const response = await fetch(GEMINI_API_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(requestBody)
            });
            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.error.message || `HTTP error! status: ${response.status}`);
            }
            const data = await response.json();
            const resultText = data.candidates?.[0]?.content?.parts?.[0]?.text || "Gagal menghasilkan prompt.";
            document.getElementById('promptEN').innerText = resultText.trim();
        } catch (error) {
            console.error("Gemini API Error:", error);
            alert("Terjadi kesalahan saat menghubungi Gemini API: " + error.message);
        } finally {
            loadingOverlay.style.display = 'none';
            generateButton.disabled = false;
        }
    }

    function copyPrompt() {
        const promptText = document.getElementById('promptEN').innerText;
        if(promptText){navigator.clipboard.writeText(promptText).then(()=>alert('Prompt berhasil disalin!')).catch(err=>console.error('Gagal menyalin: ',err))}
    }
    
    function resetAll() {
        document.querySelector('input[name="promptType"][value="image"]').checked = true;
        togglePromptOptions();
        document.getElementById('mainSubjectID').value = "";
        document.getElementById('videoSubjectID').value = "";
        document.querySelectorAll('fieldset select, fieldset input[type="checkbox"]').forEach(input=>{if(input.type==='checkbox')input.checked=false;else input.selectedIndex=0;});
        document.getElementById('negativePrompt').value = "";
        document.getElementById('videoNegativePrompt').value = "";
        document.getElementById('duration').value = "";
        document.getElementById('promptEN').innerText = "";
        document.getElementById('generateBtn').disabled = false;
        const loadingOverlay=document.getElementById('loading');if(loadingOverlay)loadingOverlay.style.display='none';
    }

    function togglePromptOptions() {
        const promptType = document.querySelector('input[name="promptType"]:checked').value;
        document.getElementById('imageOptions').style.display = (promptType === 'image') ? 'block' : 'none';
        document.getElementById('videoOptions').style.display = (promptType === 'video') ? 'block' : 'none';
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('input[name="promptType"]').forEach(radio => radio.addEventListener('change', togglePromptOptions));
        document.getElementById('generateBtn').addEventListener('click', generatePrompt);
        document.getElementById('copyBtn').addEventListener('click', copyPrompt);
        document.getElementById('resetBtn').addEventListener('click', resetAll);
        togglePromptOptions();
    });
</script>
</body>
</html>
